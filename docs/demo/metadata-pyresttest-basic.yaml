# Tests of metadata service.
# Notes on json validation:
#   must supply count or expected
#   if supply expected can optionally specify operator
#   operator defaults to "eq", available values are: abs contains eq ge gt index inv invert le lt ne neg not pos truth
#   operator is applied as: <actual> <operator> <expected>
---
- config:
    - testset: "Metadata Test"

- test: # create entity
    - name: "Create entity"
    - url: "/metadata/${ENTITY_NAME}/${ENTITY_VERSION_1}"
    - group: "metadata/insert"
    - method: "PUT"
    - body: {file: "test-metadata-insert.json"}
    - headers: {Content-Type: application/json}
    - validators:
        - {type: "json", query: "object_type", operator: "empty", expected: ""}
